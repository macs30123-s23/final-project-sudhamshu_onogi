# Final Project: Estimating Political Ideology using (massive) Social Network Data
Sudhamshu Honsome and Koichi Onogi
## 1. Social science research problem
### Introduction
Political ideology plays a crucial role in shaping policy decisions and electoral outcomes. Estimating policy positions is critical for analyzing political behavior and policy outcomes. Political actors are often motivated by their ideological beliefs when making decisions about policies and issues. By estimating the ideological positions of politicians and voters, we can gain insights into their likely behavior and decision-making. This, in turn, can inform policy analysis and improve the effectiveness of policy-making. Learning the ideological leanings of a politician is important for voters, as it helps them make informed decisions at the ballot box. Voters are more likely to support a candidate whose policy positions align with their own beliefs. By understanding the ideological leanings of a politician, voters can make informed decisions about which candidate to support and which policies to advocate for. Similarly, learning the ideological leanings of voters is important for politicians, as it helps them understand the preferences and priorities of their constituents. By understanding the ideological leanings of voters, politicians can tailor their policies and campaign messages to appeal to their base and build support for their platform. Although this complex and multifaceted concept has long been of interest to scholars and practitioners alike, there hasn’t been a reliable way to operationalize policy positions. Researchers have been using qualitiative methods like analyzing congressional voting records, analyzing speeches made by these legislators and conducting interviews with them or their stakeholders who are familiar with their policy positions. These methods have been resource intensive, erroneous and are not scalab to a wider audience. The advancement of methodological approaches in Political Science have developed methods to estimate ideology as a continuous latent variable for measuring policy position (Poole and Rosenthal 1999), (Bonica 2013). While these methods overcome issues associated withqualitative analysis, the data used in these methods are often incomplete (campaign contributions) (Bonica 2013), sparse (Poole and Rosenthal 1999) and generate estimates that are static in the short run. Most of these methods are studied only for legislators or self-selected voters’ sample and is infeasible to gather complete data (using surveys) for a large sub-population. Under the assumption that social networks are homophilic, several previous work has found users’ position in a social network to be a valid source of information about their ideological positions (Barberá (2015), Lahoti, Garimella, and Gionis (2018)). Following a similar approach, in this project,

We attempt to estimate Political Ideology using Twitter follower network data for 315 members of the 116th Congress, and their Twitter followers (N = 3,000,000) using a Bayesian Latent Space model.


## 2. Justification of the importance of using scalable computing methods to solve it
The social science problem we would like to address is the difficulty of  Measuring Politicians' and Voters’ policy positions although it is significant to hold politicians accountable, learn policy preferences, and identify the features of voters for certain politicians. We think it is important to use a large-scale computing strategy since it requires a large data set and needs to optimize computing operations.
### Estimating Ideology as a Latent Variable
Since the pioneering work of Poole and Rosenthal (1999), a number of scholars have used spatial voting models to estimate ideological preferences from rollcall votes and other data in the fields of comparative politics and international relations as well as American politics [refs]. With the increasing availability of data and methodological sophistication, researchers have recently turned their attention to the estimation of ideological leanings that are spatially and temporally comparable. Bailey (2007) measures ideal points of U.S. presidents, senators, representatives, and Supreme Court justices on the same scale over time. Researchers have also begun to analyze large data sets of more complex information. For example, Slapin and Proksch (2008) develop a statistical model that can be applied to estimate ideological positions from textual (syntactic) data using occurence of words as a cue. Researchers in Computer Science employed advancements in Topic modelling and Neural Networks to include semantic information in tweets to predict ideology estimates. Gerrish and Blei (2011) predict the voting patterns of Congress members based on supervised topic models. Iyyer et al. (2014) use recurrent neural networks to predict political ideology of congressional debates and articles in the Ideological Book Corpus (IBC) and demonstrate the importance of compositionality (modifier phrases, punctuation) in predicting ideology. Kulkarni et al. (2018) incorporate attention mechanism in their neural network model to capture cues from both textual content and network structure of news articles to estimate ideology positions of users. More recently, Lahoti, Garimella, and Gionis (2018) model the problem of learning the liberal conservative ideology space of social media users and media sources as a constrained non-negative matrix-factorization problem using Twitter follower network data and content-consumption information. Similarly, previous studies have used Bayesian latent space models applied to social networks to allow for the estimation of ideal points for a massive scale of individuals along with error in estimation (Hoff, Raftery, and Handcock 2002), (Barberá 2015).

### Assumptions
Estimating political ideology using Twitter follower-network data requires some strong bridging assumptions about user behaviour -
• Twitter Politician-follower networks are homophilous, i.e, Twitter users follow legislators whose ideology aligns with their own. These assumptions are similar to the ones made in other studies that use Twitter follower network data to estimate ideology of users.
• The cost to follow a legislator on Twitter is not trivial. Following a political elite might be associated with a considerable cost -Tweets by elites might cause a cognitive dissonance for users whose ideologies are not aligned with users. Such tweets might prompt the user to unfollow the elite. Twitter users have limited amount of time and attention to spend on Twitter. This creates an opportunity cost since it reduces the likelihood of being exposed to other messages.

We apply inverse logit model to distinguish the probability of Connection  b/w politician and Twitter users alpha is political interest, beta is latent variable popularity for politician,Theta is the political ideology of the politician and fin is the ideology of the user. We would like to use the large-scale computing methods because its significantly complex and requires a lot of data, and we need a great amount of engineering to this work.

### Model

## 3. Description of the large-scale computing methods you employ in the project

### Data
I identified the legislators of the 116th U.S Congress as the Twitter elites for my study. The 116th Congress had
• 100 senators, two from each of the fifty states.
• 435 representatives, seats are distributed by population across the fifty states.
• 6 non-voting members from the District of Columbia and US territories which include American Samoa, Guam, Northern Mariana Islands, Puerto Rico, and US Virgin Islands.
Rauhauser (2019b), Rauhauser (2019a) assimilated a directory of files in 2019 that contains followers (as Twitter IDs) corresponding to each Twitter handle (which is the name of each file). Apart from Official (Office) Twitter handles, these folders also contained handles (along with the list of followers) for several legislators’ campaign and personal Twitter accounts. To ensure that I only retrieved information for handles corresponding to official accounts, I used the official CSPAN twitter handle dataset curated by Siddique (2019), and retrieved the list of followers for this subset and stored thenetwork as an adjacency list (of directed edges from legislators to all their unique followers). This resulted in a total of 535 legislators with 6 missing in all - Rep. Collin Peterson (@collinpeterson), Rep. Greg Gianforte (@GregForMontana), and Delegate Gregorio Sablan (@Kilili_Sablan), Sen. Rick Scott (@SenRickScott), and Delegate Michael San Nicolas (No Twitter account). Since some Twitter elites also followed each other, to build a bipartite network I retrieved the Twitter IDs of all 535 legislators using the dataset collected by Wrubel and Kerchner (2020) and removed these IDs from the follower lists. To compare my final Twitter ideal point estimates to expert ratings, I mapped each of the twitter elite to their DW-NOMINATE scores, published by Voteview (J. B. Lewis et al. 2023). The total number of unique twitter users (followers) with this subset of elites were 16,420,157. These followers ranged from following only 1 Twitter elite to all 535 Twitter elites. Users who followed too few or too many legislators would not provide much information about the ideology of themselves or the elites they are following. To mitigate this issue, I removed all users who followed less than 3 or more than 300 legislators. This subset the final set of Twitter followers to 3,962,197 people. I sampled 3,000,000 users from this subset (uniformly random) to create a final adjacency matrix (of directed edges from oridnary users to elites) of size [3,000,000 × 535] (Users × Legislators) .

### Method
Bayesian Inference – Try 1 
We used RStan to run NUTS (auto-tuned HMC) on a random subset of (100K) users. It did not converge even after 20 hours. We tried the author's approach of getting starting values using NUTS and then running MCMC. The MCMC took too long to converge. We used the RMpi MPI wrapper for R with 28 processes (one per node), each sampling from 1 MCMC chain independently.Switched to the EM approach (Kosuke Imai et al., 2016). Formulate Joint posterior as posterior MLE with penalized prior.

Bayesian Inference – Try 2 – Using EM
We used the ‘emIRT’ R package (Kosuke Imai et al., 2016). We ran 5000 total iterations; took us about ~50 hours. 1000 iterations per run; hasn't converged (threshold 1e-6); but low rate of change of estimates between 4000th and 5000th iteration. We were still able to perform useful analysis. Estimation and inference of parameters for a dataset with 3,000,000 users took 50 hours and 15 Mins with 28 processes (Ran on RCC with 28 cores and 8GB memory) 

### Results and Validation
The above figure compares wj s, the ideal point estimates, of 535 members of the 116th US Congress based on their Twitter network of followers (x-axis) with their DW-NOMINATE scores based on their roll call voting records (Poole and Rosenthal 1999), on the y-axis. We can see that the estimated ideal points are clustered into two different groups that align almost perfectly with party membership. The correlation between Twitter and roll-call-based ideal points is 0.914 in the House and 0.936 in the Senate. This is comparable with the Twitter estimates for the 112th Congress (ρ = 0.941 in the House and 0.954 in the Senate) estimated in (Barberá 2015) using MCMC sampling. The correlation between Twitter estimates and DW-NOMINATE scores for Senate-Democrats, Senate-Republicans, House-Democrats and House-Republicans are 0.519, 0.573, 0.111 and 0.369 respectively.

Let us try to analyse some of these estimates qualitatively. Let us check the 5 most left-leaning legislators according to DW-NOMINATE scores (along with their scores) - data$names[which(data$nominate_dim1 %in% head(sort(data$nominate_dim1),5))]
## [1] "kamala harris" "elizabeth warren" "barbara lee" "sean casten"
## [5] "sylvia garcia"
data$nominate_dim1[which(data$nominate_dim1 %in% head(sort(data$nominate_dim1),5))]
## [1] -0.709 -0.752 -0.680 -0.675 -0.819
Although these are well known Democrats, none of these are radically left leaning. Senator Bernie Sanders of Vermont has consistently advocated for policies that are further to the left than those advocated by Kamala Harris and Elizabeth Warren. Sanders has called for universal healthcare, free public college, and higher taxes on the wealthy, which are all more progressive policies than those Harris and Warren have proposed. In terms of voting records, Congresswoman Alexandria Ocasio-Cortez has a higher progressive score than Barbara Lee, Sean Casten, and Sylvia Garcia according to Progressive Punch (“ProgressivePunch: House Members by Score / All Issues. ProgressivePunch” 2023), a website that tracks voting records and legislative actions. Ocasio-Cortez has been a vocal advocate for policies such as the Green New Deal and Medicare for All, which are considered more left-leaning than some of the policies supported by Lee, Casten, and Garcia. While media coverage of New York Congresswoman Alexandria Ocasio-Cortez describes her as liberal or even ultra-liberal for supporting the green new deal, reparations for slavery, and abolishing the Immigration and Customs Enforcement (ICE) – all positions associated with the left wing of the Democratic caucus, surprisingly NOMINATE scores rank her as a Moderate. J. Lewis (2022) argues that while there are votes on which Ocasio-Cortez joins other strong liberals in voting against the moderates in her party, there are a handful of votes on which Ocasio-Cortez has gone against nearly every other Democrat including Omar, Tlaib and Underwood and sided with (nearly) every Republican. While Congressional observers understand that votes like Ocasio-Cortez’s vote against the rules of the House are protest votes, NOMINATE does not. Rather, NOMINATE sees these as instances in which Ocasio-Cortez looks like a conservative and it adjusts her location to be more conservative accordingly. 
Let us now check the 5 most left-leaning legislators using our estimated Twitter Ideal Points - data$names[head(sort(results$means$w, index.return=T)$ix, 5)]
## [1] "ayanna pressley" "alexandria ocasio-cortez"
## [3] "rashida tlaib" "ilhan omar"
## [5] "deb haaland"
head(sort(results$means$w), 5)
## [1] -2.621 -2.596 -2.551 -2.527 -2.397
We notice that the above legislators (barring Deb Haaland) are part of ‘The Squad’, a progressive group of Democratic legislators that has gained significant attention in recent years for their vocal support of progressive policies and criticism of the political establishment. All of these are women of color, come from working-class backgrounds, which has influenced their policy priorities and advocacy for policies that benefit working-class Americans, have all been involved in grassroots activism and advocacy prior to their election to Congress, and they all have been vocal advocates of Medicare for All, criminal justice reform, immigration reform and the ‘The Green New Deal’. Let us identify the 5 most conservative legislators based on DW-NOMINATE scores 
data$names[which(data$nominate_dim1 %in% tail(sort(data$nominate_dim1),5))]
